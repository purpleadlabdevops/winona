<template>
  <section class="billing">
    <div class="billing__inner" :class="showBilling">
      <button
        class="billing__close"
        type="button"
        @click.prevent="emit('step', 'billing')">
        <svg data-v-25c87022="" viewBox="0 0 16 16" width="1em" height="1em" focusable="false" role="img" aria-label="x circle fill" xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi-x-circle-fill close-icon b-icon bi text-info"><g data-v-25c87022="" transform="translate(8 8) scale(1.3 1.3) translate(-8 -8)"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"></path></g></svg>
      </button>
      <div class="billing__card">
        <svg xmlns="http://www.w3.org/2000/svg" width="291" height="182" viewBox="0 0 291 182" fill="none"><rect width="291" height="182" rx="10" fill="#88A9C7"/><mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="291" height="182"><rect width="291" height="182" rx="10" fill="#567FA5"/></mask><g mask="url(#mask0)"><circle cx="261.588" cy="193.073" r="60.4121" fill="#799AB8" fill-opacity="0.6"/><circle cx="156.994" cy="209.303" r="130.743" fill="#799AB8" fill-opacity="0.6"/><circle opacity="0.4" cx="21.7427" cy="122.743" r="130.743" fill="#799AB8"/></g><rect x="35" y="72" width="56" height="38" rx="5" fill="#EAEAEC"/><rect x="35" y="78" width="56" height="2" fill="#82A3C1"/><rect x="35" y="102" width="56" height="2" fill="#82A3C1"/><rect x="35" y="94" width="18" height="2" fill="#82A3C1"/><rect x="73" y="94" width="18" height="2" fill="#82A3C1"/><rect x="35" y="86" width="18" height="2" fill="#82A3C1"/><rect x="73" y="86" width="18" height="2" fill="#82A3C1"/><path d="M172.812 23.182C172.737 22.8927 172.635 22.6267 172.504 22.384C172.373 22.1413 172.205 21.9313 172 21.754C171.795 21.5767 171.552 21.4413 171.272 21.348C171.001 21.2453 170.684 21.194 170.32 21.194C169.788 21.194 169.326 21.3013 168.934 21.516C168.551 21.7307 168.239 22.02 167.996 22.384C167.753 22.7387 167.571 23.1447 167.45 23.602C167.338 24.0593 167.282 24.526 167.282 25.002C167.282 25.478 167.338 25.9447 167.45 26.402C167.571 26.8593 167.753 27.27 167.996 27.634C168.239 27.9887 168.551 28.2733 168.934 28.488C169.326 28.7027 169.788 28.81 170.32 28.81C170.712 28.81 171.057 28.7447 171.356 28.614C171.655 28.474 171.911 28.2873 172.126 28.054C172.341 27.8113 172.509 27.5313 172.63 27.214C172.751 26.8967 172.831 26.556 172.868 26.192H174.576C174.539 26.7893 174.408 27.3353 174.184 27.83C173.969 28.3247 173.675 28.754 173.302 29.118C172.929 29.4727 172.49 29.748 171.986 29.944C171.482 30.14 170.927 30.238 170.32 30.238C169.573 30.238 168.901 30.1027 168.304 29.832C167.716 29.552 167.217 29.174 166.806 28.698C166.395 28.222 166.078 27.6667 165.854 27.032C165.639 26.3973 165.532 25.7207 165.532 25.002C165.532 24.2927 165.639 23.6207 165.854 22.986C166.078 22.3513 166.395 21.796 166.806 21.32C167.217 20.844 167.716 20.466 168.304 20.186C168.901 19.906 169.573 19.766 170.32 19.766C170.88 19.766 171.407 19.8453 171.902 20.004C172.397 20.1533 172.831 20.3773 173.204 20.676C173.587 20.9653 173.895 21.32 174.128 21.74C174.361 22.16 174.506 22.6407 174.562 23.182H172.812ZM177.288 20.004H182.062C183.163 20.004 183.989 20.242 184.54 20.718C185.09 21.194 185.366 21.8567 185.366 22.706C185.366 23.182 185.296 23.5787 185.156 23.896C185.016 24.204 184.852 24.456 184.666 24.652C184.479 24.8387 184.292 24.974 184.106 25.058C183.928 25.142 183.798 25.198 183.714 25.226V25.254C183.863 25.2727 184.022 25.3193 184.19 25.394C184.367 25.4687 184.53 25.59 184.68 25.758C184.829 25.9167 184.95 26.1267 185.044 26.388C185.146 26.6493 185.198 26.976 185.198 27.368C185.198 27.956 185.24 28.4927 185.324 28.978C185.417 29.454 185.557 29.7947 185.744 30H183.868C183.737 29.7853 183.658 29.5473 183.63 29.286C183.611 29.0247 183.602 28.7727 183.602 28.53C183.602 28.0727 183.574 27.6807 183.518 27.354C183.462 27.018 183.359 26.7427 183.21 26.528C183.06 26.304 182.855 26.1407 182.594 26.038C182.342 25.9353 182.015 25.884 181.614 25.884H179.038V30H177.288V20.004ZM179.038 24.554H181.908C182.468 24.554 182.892 24.4233 183.182 24.162C183.471 23.8913 183.616 23.49 183.616 22.958C183.616 22.6407 183.569 22.384 183.476 22.188C183.382 21.9827 183.252 21.824 183.084 21.712C182.925 21.6 182.738 21.5253 182.524 21.488C182.318 21.4507 182.104 21.432 181.88 21.432H179.038V24.554ZM188.265 20.004H195.461V21.516H190.015V24.134H195.055V25.562H190.015V28.488H195.559V30H188.265V20.004ZM198.203 20.004H202.347C203.113 20.004 203.775 20.1347 204.335 20.396C204.895 20.6573 205.353 21.0167 205.707 21.474C206.062 21.922 206.323 22.4493 206.491 23.056C206.669 23.6627 206.757 24.3113 206.757 25.002C206.757 25.6927 206.669 26.3413 206.491 26.948C206.323 27.5547 206.062 28.0867 205.707 28.544C205.353 28.992 204.895 29.3467 204.335 29.608C203.775 29.8693 203.113 30 202.347 30H198.203V20.004ZM199.953 28.572H201.675C202.357 28.572 202.912 28.4833 203.341 28.306C203.78 28.1193 204.121 27.8673 204.363 27.55C204.615 27.2233 204.783 26.8453 204.867 26.416C204.961 25.9773 205.007 25.506 205.007 25.002C205.007 24.498 204.961 24.0313 204.867 23.602C204.783 23.1633 204.615 22.7853 204.363 22.468C204.121 22.1413 203.78 21.8893 203.341 21.712C202.912 21.5253 202.357 21.432 201.675 21.432H199.953V28.572ZM209.427 20.004H211.177V30H209.427V20.004ZM213.491 20.004H221.583V21.516H218.405V30H216.655V21.516H213.491V20.004ZM235.627 23.182C235.552 22.8927 235.449 22.6267 235.319 22.384C235.188 22.1413 235.02 21.9313 234.815 21.754C234.609 21.5767 234.367 21.4413 234.087 21.348C233.816 21.2453 233.499 21.194 233.135 21.194C232.603 21.194 232.141 21.3013 231.749 21.516C231.366 21.7307 231.053 22.02 230.811 22.384C230.568 22.7387 230.386 23.1447 230.265 23.602C230.153 24.0593 230.097 24.526 230.097 25.002C230.097 25.478 230.153 25.9447 230.265 26.402C230.386 26.8593 230.568 27.27 230.811 27.634C231.053 27.9887 231.366 28.2733 231.749 28.488C232.141 28.7027 232.603 28.81 233.135 28.81C233.527 28.81 233.872 28.7447 234.171 28.614C234.469 28.474 234.726 28.2873 234.941 28.054C235.155 27.8113 235.323 27.5313 235.445 27.214C235.566 26.8967 235.645 26.556 235.683 26.192H237.391C237.353 26.7893 237.223 27.3353 236.999 27.83C236.784 28.3247 236.49 28.754 236.117 29.118C235.743 29.4727 235.305 29.748 234.801 29.944C234.297 30.14 233.741 30.238 233.135 30.238C232.388 30.238 231.716 30.1027 231.119 29.832C230.531 29.552 230.031 29.174 229.621 28.698C229.21 28.222 228.893 27.6667 228.669 27.032C228.454 26.3973 228.347 25.7207 228.347 25.002C228.347 24.2927 228.454 23.6207 228.669 22.986C228.893 22.3513 229.21 21.796 229.621 21.32C230.031 20.844 230.531 20.466 231.119 20.186C231.716 19.906 232.388 19.766 233.135 19.766C233.695 19.766 234.222 19.8453 234.717 20.004C235.211 20.1533 235.645 20.3773 236.019 20.676C236.401 20.9653 236.709 21.32 236.943 21.74C237.176 22.16 237.321 22.6407 237.377 23.182H235.627ZM242.776 20.004H244.638L248.488 30H246.612L245.674 27.354H241.684L240.746 30H238.94L242.776 20.004ZM242.16 26.024H245.212L243.714 21.726H243.672L242.16 26.024ZM250.56 20.004H255.334C256.435 20.004 257.261 20.242 257.812 20.718C258.363 21.194 258.638 21.8567 258.638 22.706C258.638 23.182 258.568 23.5787 258.428 23.896C258.288 24.204 258.125 24.456 257.938 24.652C257.751 24.8387 257.565 24.974 257.378 25.058C257.201 25.142 257.07 25.198 256.986 25.226V25.254C257.135 25.2727 257.294 25.3193 257.462 25.394C257.639 25.4687 257.803 25.59 257.952 25.758C258.101 25.9167 258.223 26.1267 258.316 26.388C258.419 26.6493 258.47 26.976 258.47 27.368C258.47 27.956 258.512 28.4927 258.596 28.978C258.689 29.454 258.829 29.7947 259.016 30H257.14C257.009 29.7853 256.93 29.5473 256.902 29.286C256.883 29.0247 256.874 28.7727 256.874 28.53C256.874 28.0727 256.846 27.6807 256.79 27.354C256.734 27.018 256.631 26.7427 256.482 26.528C256.333 26.304 256.127 26.1407 255.866 26.038C255.614 25.9353 255.287 25.884 254.886 25.884H252.31V30H250.56V20.004ZM252.31 24.554H255.18C255.74 24.554 256.165 24.4233 256.454 24.162C256.743 23.8913 256.888 23.49 256.888 22.958C256.888 22.6407 256.841 22.384 256.748 22.188C256.655 21.9827 256.524 21.824 256.356 21.712C256.197 21.6 256.011 21.5253 255.796 21.488C255.591 21.4507 255.376 21.432 255.152 21.432H252.31V24.554ZM261.537 20.004H265.681C266.447 20.004 267.109 20.1347 267.669 20.396C268.229 20.6573 268.687 21.0167 269.041 21.474C269.396 21.922 269.657 22.4493 269.825 23.056C270.003 23.6627 270.091 24.3113 270.091 25.002C270.091 25.6927 270.003 26.3413 269.825 26.948C269.657 27.5547 269.396 28.0867 269.041 28.544C268.687 28.992 268.229 29.3467 267.669 29.608C267.109 29.8693 266.447 30 265.681 30H261.537V20.004ZM263.287 28.572H265.009C265.691 28.572 266.246 28.4833 266.675 28.306C267.114 28.1193 267.455 27.8673 267.697 27.55C267.949 27.2233 268.117 26.8453 268.201 26.416C268.295 25.9773 268.341 25.506 268.341 25.002C268.341 24.498 268.295 24.0313 268.201 23.602C268.117 23.1633 267.949 22.7853 267.697 22.468C267.455 22.1413 267.114 21.8893 266.675 21.712C266.246 21.5253 265.691 21.432 265.009 21.432H263.287V28.572Z" fill="#EAEAEC"/></svg>
        <div class="billing__security">
          <svg data-v-25c87022="" viewBox="0 0 16 16" width="1em" height="1em" focusable="false" role="img" aria-label="lock fill" xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi-lock-fill b-icon bi"><g data-v-25c87022=""><path d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z"></path></g></svg>
          256-BIT TLS SECURITY
        </div>
      </div>
      <h3>BILLING INFORMATION </h3>
      <h2>Why do you need my credit card information? </h2>
      <p>Winonaâ€™s physicians are on hand to review your medical information quickly in order to provide you with safe, accessible care so you can feel better right away. </p>
      <p>We ask that you share your credit card information so that if the medication is approved by one of our doctors we can get it to you right away and to ensure that our patients are serious about the desire to receive treatment. </p>
      <p>Your card will never be charged until treatment is prescribed. </p>
      <h2> Shouldnâ€™t I talk to a Winona doctor before purchasing treatment? </h2>
      <p>Your Winona physician will never prescribe a treatment without first reviewing your medical history, and addressing any questions or concerns either of you may have. </p>
      <p>Once you enter your credit card information you will be directed to your secure patient portal where you can directly message your doctor. If you have any additional questions, you can ask them at this step. </p>
      <button
        type="button"
        class="btn"
        @click.prevent="emit('step', 'billing')">
        I understand
      </button>
    </div>
  </section>
</template>

<script lang="ts" setup>
const emit = defineEmits(['step']),
      showBilling = ref<String | Boolean>(false)

onMounted(() => {
  setTimeout(()=>{
    showBilling.value = 'billing__inner-in'
  }, 250)
  document.documentElement.style.overflow = 'hidden'
  document.documentElement.style.height = '100vh';
  document.documentElement.style.width = '100vw';
})

onBeforeUnmount(() => {
  showBilling.value = false
  document.documentElement.style.overflow = 'auto'
  document.documentElement.style.height = 'auto';
  document.documentElement.style.width = 'auto';
})
</script>

<style lang="scss" scoped>
.billing{
  position: fixed;
  left: 0;
  top: 0;
  width: 100%;
  height: 100vh;
  background: rgba(26, 106, 114, 0.5);
  z-index: 102;
  overflow: hidden;
  &__inner{
    width: calc(100% - 30px);
    margin-left: 100%;
    height: 100vh;
    background: #fff;
    padding: 32px res(15, 32);
    transition: .5s ease;
    overflow-y: auto;
    @media(min-width:768px){
      width: 50%;
    }
    &-in{
      margin-left: 30px;
      @media(min-width:768px){
        margin-left: 50%;
      }
    }
  }
  &__close{
    background: none;
    padding: 0;
    border: none;
    position: absolute;
    right: 24px;
    top: 12px;
    * {
      pointer-events: none;
    }
    svg{
      width: 20px;
      height: auto;
      border-radius: 50%;
    }
    path{
      fill: var(--purple);
    }
  }
  h2{
    margin-top: res(20, 26);
    margin-bottom: 6px;
    font-size: res(20, 26);
  }
  h3{
    font-size: res(15, 17);
    letter-spacing: res(1, 2.8);
    color: var(--cyan);
  }
  p{
    font-size: res(15, 17);
    margin-bottom: 16px;
  }
  .btn{
    color: var(--green);
    display: block;
    width: 100%;
  }
  &__card{
    background: #f6f6f6;
    margin-bottom: 32px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: 32px;
    margin-left: -32px;
    margin-right: -32px;
    margin-top: -32px;
    @media(min-width:768px){
      min-height: 40vh;
    }
    & > svg{
      display: block;
      margin: 0 auto 30px;
      width: 80%;
      @media(min-width:768px){
        width: 50%;
      }
    }
  }
  &__security{
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 15px;
    text-transform: uppercase;
    svg{
      width: 15px;
      margin-right: 5px;
    }
  }
}
</style>